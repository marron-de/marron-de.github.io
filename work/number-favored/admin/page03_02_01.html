<!DOCTYPE html>
<html lang="en">

<head>

    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>03_회원정보 02_회원현황 01_디폴트</title>

    <!-- datepicker -->
    <link type="text/css" href="css/jquery-ui.css" rel="stylesheet" />
    <script type="text/javascript" src="js/jquery.min.js">
    </script>
    <script type="text/javascript" src="js/jquery-ui.min.js">
    </script>

    <!-- Swiper -->
    <link rel="stylesheet" href="css/swiper-bundle.min.css" />
    <script src="js/swiper-bundle.min.js"></script>

    <!-- chart.js -->
    <script src="js/chart.js"></script>
    <script src="js/chartjs-plugin-datalabels.js"></script>

    <!-- CSS -->
    <link rel="stylesheet" href="css/common.css">
    <link rel="stylesheet" href="css/style.css">

    <!-- Font -->
    <link href="css/Pretendard.css">

</head>

<body>


    <div class="wrap layout memberState_wrap">
        
        <!-- 03_회원정보 02_회원현황 01_디폴트 -->
        <!-- navigation -->
        <div class="navigation">
            <div class="logo_box">
                <img src="img/logo_w.png" alt="" class="logo">
                <p class="txt">Super Admin</p>
            </div>
            <ul class="nav accordion">
                <li>
                    <div class="acc_tit">
                        <span class="icon"><img src="img/ico_nav1.png" alt=""></span>
                        <span class="title">대시보드</span>
                        <span class="arrow"></span>
                    </div>
                    <ul class="sub_nav">
                        <li>
                            <a href="page02_01.html" class="link">기본 통계</a>
                        </li>
                    </ul>
                </li>
                <li class="show">
                    <div class="acc_tit">
                        <span class="icon"><img src="img/ico_nav2.png" alt=""></span>
                        <span class="title">회원정보</span>
                        <span class="arrow"></span>
                    </div>
                    <ul class="sub_nav" style="display: block;">
                        <li>
                            <a href="page03_01.html" class="link">회원 목록</a>
                        </li>
                        <li>
                            <a href="page03_02_01.html" class="link on">회원 현황</a>
                        </li>
                    </ul>
                </li>
                <li>
                    <div class="acc_tit">
                        <span class="icon"><img src="img/ico_nav3.png" alt=""></span>
                        <span class="title">매출관리</span>
                        <span class="arrow"></span>
                    </div>
                    <ul class="sub_nav">
                        <li>
                            <a href="page04_01.html" class="link">매출현황</a>
                        </li>
                        <li>
                            <a href="page04_02_01.html" class="link">결제내역</a>
                        </li>
                    </ul>
                </li>
                <li>
                    <div class="acc_tit">
                        <span class="icon"><img src="img/ico_nav4.png" alt=""></span>
                        <span class="title">접속통계</span>
                        <span class="arrow"></span>
                    </div>
                    <ul class="sub_nav">
                        <li>
                            <a href="page05_01.html" class="link">트래픽 분석</a>
                        </li>
                        <li>
                            <a href="page05_02.html" class="link">접속환경 분석</a>
                        </li>
                    </ul>
                </li>
                <li class="line"></li>
                <li>
                    <div class="acc_tit">
                        <span class="icon"><img src="img/ico_nav5.png" alt=""></span>
                        <span class="title">설정</span>
                        <span class="arrow"></span>
                    </div>
                    <ul class="sub_nav">
                        <li>
                            <a href="page06_01_01.html" class="link">번호입력</a>
                        </li>
                    </ul>
                </li>
            </ul>
            <div class="btn_box">
                <button type="button" class="btn full">로그아웃</button>
            </div>
            <button type="button" class="nav_btn"></button>
        </div>

        <!-- container -->
        <div class="container">

            <p class="page_title">회원 현황</p>

            <section class="section sec1">
                <div class="sec_titbox h_80">
                    <div class="leftbox">
                        <p class="tit">
                            전체 회원 <span class="color">210</span>명 /  
                            유료회원 비율 <span class="color">25%</span>
                        </p>
                    </div>
                    <div class="rightbox big_gap">
                        <div class="planstate_box">
                            <a href="page03_02_02.html" class="item">
                                <img src="img/plan_p.png" alt="" class="icon">
                                <span class="txt">
                                    25% (<span class="point">20</span>)
                                </span>
                            </a>
                            <a href="page03_02_01.html" class="item">
                                <img src="img/plan_b.png" alt="" class="icon">
                                <span class="txt">
                                    25% (<span class="point">20</span>)
                                </span>
                            </a>
                            <a href="#none" class="item">
                                <img src="img/plan_f.png" alt="" class="icon">
                                <span class="txt">
                                    25% (<span class="point">20</span>)
                                </span>
                            </a>
                        </div>
                        <button type="button" class="btn ver2 reset_btn">
                            <span class="icon"></span>
                            <span class="txt">초기화</span>
                        </button>
                    </div>
                </div>
            </section>

            <section class="section sec2">
                <div class="sec_titbox">
                    <div class="leftbox">
                        <p class="tit">회원수 <span class="color">100</span></p>
                    </div>
                    <div class="rightbox">
                        <div class="filter_box">
                            <button type="button" id="chart2_daybtn" class="filter_btn day on">일별</button>
                            <button type="button" id="chart2_monthbtn" class="filter_btn month">월별</button>
                        </div>
                    </div>
                </div>
                <div class="chart_box">
                    <div class="chart_top">
                        <div class="select_box">
                            <select class="select">
                                <option value="">8월</option>
                                <option value="">9월</option>
                                <option value="">10월</option>
                                <option value="">11월</option>
                                <option value="">12월</option>
                            </select>
                        </div>
                        <div class="input_box date">
                            <input type="text" placeholder="날짜 선택" class="input_text datepicker" readonly
                                value="2024-08-01 ~ 2024-08-07">
                        </div>
                    </div>
                    <div class="chart">
                        <canvas id="chart2" width="1432" height="400"></canvas>
                    </div>
                    <div class="chart_labels">
                        <div class="label">
                            <span class="box_color color1"></span>
                            <span class="label_txt">Premium</span>
                        </div>
                        <div class="label">
                            <span class="box_color color2"></span>
                            <span class="label_txt">Basic</span>
                        </div>
                        <div class="label">
                            <span class="box_color color3"></span>
                            <span class="label_txt">Free</span>
                        </div>
                    </div>
                </div>
            </section>

        </div>

    </div>



    <!-- JS -->
    <!-- <script src="js/jquery-3.4.1.min.js"></script> -->
    <script src="js/common.js"></script>
    <script>
        const dayLabels = ['2024-11-03 일요일', '2024-11-04 월요일', '2024-11-05 화요일', '2024-11-06 수요일', '2024-11-07 목요일',
            '2024-11-08 금요일', '2024-11-09 토요일'
        ];
        const monthLabels = ['2024-06', '2024-07', '2024-08', '2024-09', '2024-10', '2024-11', '2024-12'];

        function createGradient(context, colorStart, colorEnd) {
            const chart = context.chart;
            const ctx = chart.ctx;
            const yValue = context.raw;
            const yPosition = chart.scales.y.getPixelForValue(yValue);


            if (isNaN(yPosition) || yPosition === Infinity || yPosition === -Infinity) {
                return colorStart;
            }

            const gradient = ctx.createLinearGradient(0, yPosition, 0, chart.scales.y.getPixelForValue(
                0));
            gradient.addColorStop(0, colorStart);
            gradient.addColorStop(1, colorEnd);
            return gradient;
        }
        const config2 = {
            type: 'bar',
            data: {
                labels: dayLabels,
                datasets: [{
                        label: 'Premium',
                        data: [4, 4, 4, 5.5, 5.5, 5.5, 5.5],
                        backgroundColor: function (context) {
                            return createGradient(context, '#9750f8', '#3e1ad6');
                        },
                        borderRadius: 8,
                        barThickness: 24,
                    },
                    {
                        label: 'Basic',
                        data: [2.5, 2.5, 2.5, 2.5, 4.2, 4.2, 2.5],
                        backgroundColor: function (context) {
                            return createGradient(context, '#3DB3FF', '#0060bd');
                        },
                        borderRadius: 8,
                        barThickness: 24,
                    },
                    {
                        label: 'Free',
                        data: [5, 5, 5, 5, 3.4, 3.4, 4.9],
                        backgroundColor: function (context) {
                            return createGradient(context, '#e4e4e4', '#606060');
                        },
                        borderRadius: 8,
                        barThickness: 24,
                    },
                ]
            },
            options: {
                plugins: {
                    legend: {
                        display: false,
                    },
                    tooltip: {
                        enabled: true,
                    }
                },
                responsive: false,
                layout: {
                    padding: {
                        top: 0,
                        left: -18,
                        right: 0,
                        bottom: 0,
                    }
                },
                scales: {
                    x: {
                        offset: true,
                        ticks: {
                            padding: 12,
                            font: {
                                family: 'Pretendard',
                                weight: '400',
                                size: 13,
                                color: '#40395d',
                            },
                        },
                        grid: {
                            display: false,
                        },
                    },
                    y: {
                        beginAtZero: false,
                        suggestedMin: 1,
                        ticks: {
                            stepSize: 1,
                            padding: 18,
                            font: {
                                family: 'Pretendard',
                                weight: '400',
                                size: 13,
                                color: '#383b40',
                            },
                        },
                        border: {
                            display: false,
                        },
                    },
                },
            },
        };
        const chart2 = document.getElementById('chart2').getContext('2d');
        const chartBox2 = new Chart(chart2, config2);
      

        // 차트 업데이트    
        document.getElementById('chart2_daybtn').addEventListener('click', () => {
            chartBox2.data.datasets[0].data = [4, 4, 4, 5.5, 5.5, 5.5, 5.5];
            chartBox2.data.datasets[1].data = [2.5, 2.5, 2.5, 2.5, 4.2, 4.2, 2.5];
            chartBox2.data.datasets[2].data = [5, 5, 5, 5, 3.4, 3.4, 4.9];
            chartBox2.data.labels = dayLabels;
            chartBox2.update();
        });
        document.getElementById('chart2_monthbtn').addEventListener('click', () => {
            chartBox2.data.datasets[0].data = [2.5, 2.5, 2.5, 2.5, 4.2, 4.2, 2.5],
                chartBox2.data.datasets[1].data = [5, 5, 5, 5, 3.4, 3.4, 4.9],
                chartBox2.data.datasets[2].data = [4, 4, 4, 5.5, 5.5, 5.5, 5.5],
                chartBox2.data.labels = monthLabels;
            chartBox2.update();
        });
    </script>




</body>

</html>